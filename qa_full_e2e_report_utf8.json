{
  "meta": {
    "executed_at": "2026-02-23T21:46:14.211Z",
    "base": "http://127.0.0.1:5500"
  },
  "phase1_environment": {
    "institutions_table": {
      "status": "PASS",
      "seen": "status=200"
    },
    "institutions_renamed_columns": {
      "status": "PASS",
      "seen": "Columns readable"
    },
    "profiles_columns": {
      "status": "PASS",
      "seen": "rol + teacher_credits readable"
    },
    "ensure_institution": {
      "status": "PASS",
      "seen": "UIS (fd138e39-9d18-4797-851e-1c038f512592)"
    },
    "ensure_group": {
      "status": "PASS",
      "seen": "FOREIGN LANGUAJE 40556"
    },
    "ensure_test_users": {
      "status": "PASS",
      "seen": "teacher=true; student=true; model=documento_id+pin (not email)"
    },
    "teacher_credits_set": {
      "status": "PASS",
      "seen": "teacher_credits target=9 applied (or fallback if column missing)"
    }
  },
  "phase2_auth": {
    "super_admin": {
      "status": "PASS",
      "seen": "{\"wrongMsg\":\"Invalid credentials\",\"loginUrl\":\"http://127.0.0.1:5500/admin.html\",\"passLogin\":true,\"rolePersist\":\"super_admin\",\"afterLogout\":\"http://127.0.0.1:5500/index.html\",\"expiredUrl\":\"http://127.0.0.1:5500/index.html\",\"consoleErrors\":[\"[error] Error loading groups: {message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\\n    at https://cdn.jsde\u00d4\u00c7\u00aa loadGroups (http://127.0.0.1:5500/app.js:569:33), hint: , code: }\"],\"networkErrors\":[\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.admin&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/english_challenges?select=id&is_active=eq.true -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=id&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher&institution_id=eq.6d01fb42-7076-42af-9c4f-694b26e1d637 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&account_locked=eq.true -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.6d01fb42-7076-42af-9c4f-694b26e1d637 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=id -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.admin&institution_id=eq.6d01fb42-7076-42af-9c4f-694b26e1d637 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.6d01fb42-7076-42af-9c4f-694b26e1d637 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=id&institution_id=eq.6d01fb42-7076-42af-9c4f-694b26e1d637 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.fd138e39-9d18-4797-851e-1c038f512592 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.012c9ed8-8204-40fd-b151-d97073772164 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher&institution_id=eq.fd138e39-9d18-4797-851e-1c038f512592 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.cdfd3817-6d1a-4cc2-9a4d-1f9f5219a345 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.fd138e39-9d18-4797-851e-1c038f512592 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.admin&institution_id=eq.fd138e39-9d18-4797-851e-1c038f512592 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=id&institution_id=eq.fd138e39-9d18-4797-851e-1c038f512592 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher&institution_id=eq.012c9ed8-8204-40fd-b151-d97073772164 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.012c9ed8-8204-40fd-b151-d97073772164 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.admin&institution_id=eq.012c9ed8-8204-40fd-b151-d97073772164 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=id&institution_id=eq.012c9ed8-8204-40fd-b151-d97073772164 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher&institution_id=eq.cdfd3817-6d1a-4cc2-9a4d-1f9f5219a345 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.cdfd3817-6d1a-4cc2-9a4d-1f9f5219a345 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.admin&institution_id=eq.cdfd3817-6d1a-4cc2-9a4d-1f9f5219a345 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=id&institution_id=eq.cdfd3817-6d1a-4cc2-9a4d-1f9f5219a345 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/english_challenges?select=id&is_active=eq.true -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&account_locked=eq.true -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=id -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.6d01fb42-7076-42af-9c4f-694b26e1d637 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.fd138e39-9d18-4797-851e-1c038f512592 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.012c9ed8-8204-40fd-b151-d97073772164 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.cdfd3817-6d1a-4cc2-9a4d-1f9f5219a345 -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.teacher -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.student -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=id&is_active=eq.true&rol=eq.admin&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/english_challenges?select=id&is_active=eq.true -> net::ERR_ABORTED\",\"HEAD https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=id&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"GET https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=monedas&rol=eq.student&is_active=eq.true&institution_id=eq.5e5ea042-ab9d-4693-a1c0-b45ee1fb112f -> net::ERR_ABORTED\",\"GET https://uggkivypfugdchvjurlo.supabase.co/rest/v1/profiles?select=monedas&rol=eq.student&is_active=eq.true -> net::ERR_ABORTED\",\"GET http://127.0.0.1:5500/index.html -> net::ERR_ABORTED\",\"GET https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=*&order=group_code.asc -> net::ERR_ABORTED\"]}"
    },
    "teacher": {
      "status": "PASS",
      "seen": "{\"wrongMsg\":\"Invalid credentials\",\"loginUrl\":\"http://127.0.0.1:5500/teacher.html\",\"passLogin\":true,\"rolePersist\":\"teacher\",\"afterLogout\":\"http://127.0.0.1:5500/index.html\",\"expiredUrl\":\"http://127.0.0.1:5500/index.html\",\"consoleErrors\":[\"[error] Failed to load resource: the server responded with a status of 400 ()\",\"[error] [TEACHER_POCKET] {code: 42703, details: null, hint: null, message: column profiles.coin_pocket does not exist}\",\"[error] Failed to load resource: the server responded with a status of 400 ()\",\"[error] [TEACHER_POCKET] {code: 42703, details: null, hint: null, message: column profiles.coin_pocket does not exist}\",\"[error] Error loading groups: {message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\\n    at https://cdn.jsde\u00d4\u00c7\u00aa loadGroups (http://127.0.0.1:5500/app.js:569:33), hint: , code: }\"],\"networkErrors\":[\"GET http://127.0.0.1:5500/index.html -> net::ERR_ABORTED\",\"GET https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=*&order=group_code.asc -> net::ERR_ABORTED\"]}"
    },
    "student": {
      "status": "PASS",
      "seen": "{\"wrongMsg\":\"Invalid credentials\",\"loginUrl\":\"http://127.0.0.1:5500/student.html\",\"passLogin\":true,\"rolePersist\":\"student\",\"afterLogout\":\"http://127.0.0.1:5500/index.html\",\"expiredUrl\":\"http://127.0.0.1:5500/index.html\",\"consoleErrors\":[\"[error] Error loading groups: {message: TypeError: Failed to fetch, details: TypeError: Failed to fetch\\n    at https://cdn.jsde\u00d4\u00c7\u00aa loadGroups (http://127.0.0.1:5500/app.js:569:33), hint: , code: }\"],\"networkErrors\":[\"GET https://uggkivypfugdchvjurlo.supabase.co/rest/v1/groups?select=*&order=group_code.asc -> net::ERR_ABORTED\"]}"
    }
  },
  "phase3_rbac": {
    "super_admin_system_configs": {
      "status": "PASS",
      "seen": "navAiConfig=1; keyFields=3"
    },
    "teacher_blocked": {
      "status": "PASS",
      "seen": "adminAttempt=http://127.0.0.1:5500/index.html; schoolAttempt=http://127.0.0.1:5500/index.html; logic=RBAC: This action requires super_admin privileges"
    },
    "student_blocked": {
      "status": "PASS",
      "seen": "adminAttempt=http://127.0.0.1:5500/index.html; teacherAttempt=http://127.0.0.1:5500/index.html"
    }
  },
  "phase4_teacher_groups": {
    "teacher_login": {
      "status": "PASS",
      "seen": "http://127.0.0.1:5500/teacher.html"
    },
    "group_filtering": {
      "status": "PASS",
      "seen": "{\"adminGroupFilter\":{\"exists\":true,\"options\":[\"FOREIGN LANGUAJE 40556\"]},\"qrGroup\":{\"exists\":true,\"options\":[\"FOREIGN LANGUAJE 40556\"]},\"auctionGroup\":{\"exists\":true,\"options\":[\"FOREIGN LANGUAJE 40556\"]},\"announcementGroup\":{\"exists\":true,\"options\":[\"FOREIGN LANGUAJE 40556\"]},\"challengeTargetGroup\":{\"exists\":true,\"options\":[\"FOREIGN LANGUAJE 40556\"]}}"
    }
  },
  "phase5_teacher_credits": {
    "block_at_zero": {
      "status": "PASS",
      "seen": "Creditos insuficientes (0 < 3)"
    },
    "console_errors": [
      "[error] Failed to load resource: the server responded with a status of 400 ()",
      "[error] [TEACHER_POCKET] {code: 42703, details: null, hint: null, message: column profiles.coin_pocket does not exist}",
      "[error] Failed to load resource: the server responded with a status of 400 ()",
      "[error] Failed to load resource: the server responded with a status of 400 ()"
    ],
    "network_errors": []
  },
  "phase6_institution_pool": {
    "pool_columns": {
      "status": "FAIL",
      "seen": "{\"code\":\"42703\",\"details\":null,\"hint\":null,\"message\":\"column institutions.ai_generation_limit does not exist\"}"
    }
  },
  "phase7_multi_ai": {
    "provider_network_error": {
      "status": "FAIL",
      "seen": "status=No API key configured for this institution.; credits 9->9"
    },
    "provider_malformed_json": {
      "status": "FAIL",
      "seen": "status=No API key configured for this institution.; credits 9->9"
    },
    "provider_selector_visibility": {
      "status": "FAIL",
      "seen": "aiProviderWrapVisible=true"
    }
  },
  "phase8_cefr": {
    "empty_fields_handling": {
      "status": "PASS",
      "seen": "Creditos insuficientes. Necesitas al menos 3.\nIngresa un tema (Topic)"
    }
  },
  "phase9_responsive": {
    "desktop": {
      "status": "PASS",
      "seen": "{\"aiPanel\":true,\"drako\":true,\"runBtn\":true,\"overflowAi\":false,\"overflowNav\":false}"
    },
    "laptop": {
      "status": "PASS",
      "seen": "{\"aiPanel\":true,\"drako\":true,\"runBtn\":true,\"overflowAi\":false,\"overflowNav\":false}"
    },
    "tablet": {
      "status": "PASS",
      "seen": "{\"aiPanel\":true,\"drako\":true,\"runBtn\":true,\"overflowAi\":false,\"overflowNav\":false}"
    },
    "mobile": {
      "status": "PASS",
      "seen": "{\"aiPanel\":true,\"drako\":true,\"runBtn\":true,\"overflowAi\":false,\"overflowNav\":false}"
    }
  },
  "phase10_student": {
    "student_login": {
      "status": "PASS",
      "seen": "http://127.0.0.1:5500/student.html"
    },
    "student_visibility": {
      "status": "PASS",
      "seen": "{\"hasCoins\":true,\"hasChallengesNav\":true,\"hasTeacherCreditsText\":false,\"hasProviderUi\":false}"
    }
  },
  "phase11_security": {
    "direct_system_configs_call": {
      "status": "FAIL",
      "seen": "status=200"
    },
    "role_spoof_attempt": {
      "status": "FAIL",
      "seen": "localStorageSpoof=set; url=http://127.0.0.1:5500/admin.html"
    }
  },
  "phase12_resilience": {
    "teacher_groups_missing": {
      "status": "FAIL",
      "seen": "{\"teacherGroupsMissing\":\"crash:window.loadGroupFiltersTeacher is not a function\",\"networkOffline\":\"error:Error: Network offline\"}"
    },
    "network_offline": {
      "status": "PASS",
      "seen": "{\"teacherGroupsMissing\":\"crash:window.loadGroupFiltersTeacher is not a function\",\"networkOffline\":\"error:Error: Network offline\"}"
    }
  }
}